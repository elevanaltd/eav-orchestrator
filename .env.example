# ============================================================================
# EAV ORCHESTRATOR ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control
#
# Project: EAV Orchestrator - Collaborative Video Production System
# Current Supabase Project: vbcfaegexbygqgsstoig (NEW - Sept 2025)
# ============================================================================

# ============================================================================
# CORE APPLICATION CONFIGURATION
# ============================================================================

# Environment (development | staging | production)
NODE_ENV=development

# Application Version (semantic versioning)
VITE_APP_VERSION=1.0.0

# Application URLs
VITE_APP_URL=http://localhost:3000
VITE_API_URL=http://localhost:3001

# ============================================================================
# SUPABASE CONFIGURATION (REQUIRED)
# ============================================================================
# Get these from Supabase Dashboard > Settings > API section
# Project URL: https://supabase.com/dashboard/project/vbcfaegexbygqgsstoig

# Supabase Project URL (https://[project-ref].supabase.co)
VITE_SUPABASE_URL=https://vbcfaegexbygqgsstoig.supabase.co
SUPABASE_URL=https://vbcfaegexbygqgsstoig.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://vbcfaegexbygqgsstoig.supabase.co

# Supabase Anonymous/Public Key (safe for client-side)
# This key is safe to expose in frontend code
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key-here
SUPABASE_ANON_KEY=your-supabase-anon-key-here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Supabase Service Role Key (server-side only - KEEP SECRET!)
# WARNING: Never expose this in client-side code
SUPABASE_SERVICE_KEY=your-supabase-service-role-key-here
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# ============================================================================
# DATABASE CONNECTION STRINGS (REQUIRED FOR PRODUCTION)
# ============================================================================
# Get these from Supabase Dashboard > Settings > Database > Connection string
# CRITICAL: Must use pooler for production with concurrent users

# Direct connection (for migrations, DDL operations)
# Port 5432 - Use for: npx supabase db push, migrations
DATABASE_URL=postgres://postgres.[project-ref]:[password]@aws-0-eu-west-2.pooler.supabase.com:5432/postgres
DIRECT_DATABASE_URL=postgres://postgres.[project-ref]:[password]@aws-0-eu-west-2.pooler.supabase.com:5432/postgres

# Session Mode Pooler (for application queries)
# Port 6543 with pgbouncer=true - Use for: normal app operations
DATABASE_URL_SESSION=postgres://postgres.[project-ref]:[password]@aws-0-eu-west-2.pooler.supabase.com:6543/postgres?pgbouncer=true

# Transaction Mode Pooler (for transactions)
# Port 6543 - Use for: transactions, prepared statements
DATABASE_URL_TRANSACTION=postgres://postgres.[project-ref]:[password]@aws-0-eu-west-2.pooler.supabase.com:6543/postgres

# Project Reference and Credentials
SUPABASE_PROJECT_REF=vbcfaegexbygqgsstoig
SUPABASE_DB_PASSWORD=your-database-password-here

# ============================================================================
# COLLABORATION CONFIGURATION
# ============================================================================

# Y.js WebRTC Configuration (optional - for peer-to-peer fallback)
VITE_YJS_WEBRTC_ENABLED=false
VITE_YJS_WEBRTC_SIGNALING=wss://signaling.yjs.dev

# Collaboration Settings
VITE_COLLABORATION_PROJECT_ID=eav-orchestrator-main
VITE_COLLABORATION_AUTO_SAVE=true
VITE_COLLABORATION_AUTO_SAVE_DELAY=1000

# ============================================================================
# SMARTSUITE INTEGRATION (REQUIRED FOR PHASE 4)
# ============================================================================
# Get from SmartSuite Settings > API

# SmartSuite API Token (40-character hex)
SMARTSUITE_API_TOKEN=your-smartsuite-api-token-here
SMARTSUITE_API_KEY=your-smartsuite-api-token-here

# SmartSuite Workspace Configuration
SMARTSUITE_WORKSPACE_ID=s3qnmox1
SMARTSUITE_ACCOUNT_ID=elevanaltd
VITE_SMARTSUITE_API_URL=https://app.smartsuite.com/api/v1

# SmartSuite Table IDs (EAV Production)
SMARTSUITE_PROJECTS_TABLE_ID=68a8ff5237fde0bf797c05b3
SMARTSUITE_VIDEOS_TABLE_ID=68b2437a8f1755b055e0a124
SMARTSUITE_TASKS_TABLE_ID=68a8ffac490e5496953e5b1c

# ============================================================================
# ELEVENLABS INTEGRATION (PHASE 2 - VOICE GENERATION)
# ============================================================================
# Get from ElevenLabs account dashboard

ELEVENLABS_API_KEY=your-elevenlabs-api-key-here
ELEVENLABS_VOICE_ID=your-default-voice-id-here
VITE_ELEVENLABS_API_URL=https://api.elevenlabs.io/v1

# ============================================================================
# LUCIDLINK FILE STORAGE
# ============================================================================
# Local mount path for shared storage

LUCIDLINK_PATH=/Volumes/elevana-av/eav-production-hub/
LUCIDLINK_API_KEY=your-lucidlink-api-key-if-needed

# ============================================================================
# BACKEND FOR FRONTEND (BFF) CONFIGURATION
# ============================================================================
# Only needed if running separate BFF service

BFF_PORT=3001
BFF_HOST=localhost
BFF_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# ============================================================================
# CACHING & PERFORMANCE
# ============================================================================

# Redis Configuration (optional - for distributed caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password-if-needed

# Circuit Breaker Settings
VITE_CIRCUIT_BREAKER_TIMEOUT=5000
VITE_CIRCUIT_BREAKER_ERROR_THRESHOLD=30
VITE_CIRCUIT_BREAKER_RESET_TIMEOUT=20000

# Connection Pool Settings (for knowledge platform)
KNOWLEDGE_DB_POOL_MIN=2
KNOWLEDGE_DB_POOL_MAX=10
KNOWLEDGE_DB_IDLE_TIMEOUT=10000
KNOWLEDGE_DB_CONNECTION_TIMEOUT=5000

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Sentry Error Tracking (Production Error Monitoring)
# Get from Sentry Dashboard > Settings > Projects > [Project] > Client Keys (DSN)
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
VITE_SENTRY_ENVIRONMENT=development
VITE_SENTRY_TRACES_SAMPLE_RATE=0.1
VITE_APP_VERSION=1.0.0

# Session Replay (disabled in production for privacy, enabled in dev for debugging)
VITE_SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.1
VITE_SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE=1.0

# Performance Monitoring
VITE_SENTRY_PROFILES_SAMPLE_RATE=0.1

# Sentry Build Configuration (for source map uploads)
SENTRY_ORG=your-sentry-organization
SENTRY_PROJECT=eav-orchestrator
SENTRY_AUTH_TOKEN=your-sentry-auth-token-here

# DataDog APM (optional)
DATADOG_API_KEY=your-datadog-api-key-here
DATADOG_APP_KEY=your-datadog-app-key-here

# Logging
LOG_LEVEL=debug
VITE_LOG_LEVEL=info

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-here-minimum-32-characters
JWT_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-key-here-minimum-32-characters
SESSION_MAX_AGE=86400000

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features during development
VITE_FEATURE_VOICE_GENERATION=true
VITE_FEATURE_REALTIME_COLLABORATION=true
VITE_FEATURE_SMARTSUITE_SYNC=false
VITE_FEATURE_DEBUG_MODE=false

# ============================================================================
# KNOWLEDGE PLATFORM CONFIGURATION
# ============================================================================
# Shared with SmartSuite API Shim in same Supabase instance

KNOWLEDGE_PLATFORM_SCHEMA=knowledge_platform
KNOWLEDGE_PLATFORM_ENABLED=true

# Knowledge Platform Supabase (same as main app)
KNOWLEDGE_SUPABASE_URL=https://vbcfaegexbygqgsstoig.supabase.co
KNOWLEDGE_SUPABASE_ANON_KEY=your-supabase-anon-key-here
KNOWLEDGE_SUPABASE_SERVICE_KEY=your-supabase-service-role-key-here
KNOWLEDGE_DB_SCHEMA=knowledge_platform

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================

# Vercel (if deploying to Vercel)
VERCEL_URL=
VERCEL_ENV=development

# CI/CD
CI=false

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# Hot Module Replacement
VITE_HMR_PORT=5173
VITE_HMR_HOST=localhost

# Source Maps
GENERATE_SOURCEMAP=true

# ============================================================================
# NOTES & WARNINGS
# ============================================================================
#
# CRITICAL SECURITY NOTES:
# 1. NEVER commit .env.local file with real values to git
# 2. NEVER expose SERVICE_KEY in client-side code
# 3. Rotate all API keys regularly
# 4. Use different keys for dev/staging/production
#
# REQUIRED FOR BASIC OPERATION:
# - All SUPABASE_* variables (including pooler URLs)
# - VITE_COLLABORATION_PROJECT_ID (for Y.js collaboration)
#
# REQUIRED FOR INTEGRATIONS:
# - SMARTSUITE_* variables (Phase 4 integration)
# - ELEVENLABS_* variables (Phase 2 voice generation)
# - BFF_* variables (If using separate backend)
#
# DATABASE CONNECTIONS:
# - Use DATABASE_URL for migrations and DDL
# - Use DATABASE_URL_SESSION for application queries
# - Use DATABASE_URL_TRANSACTION for transactions
#
# KNOWLEDGE PLATFORM:
# The knowledge_platform schema is isolated but in the same Supabase instance.
# It stores SmartSuite field mappings and API patterns for the MCP shim.
#
# ============================================================================
